<!DOCTYPE html>
<!-- Author: Thijs Lacquet -->
<html>
<head>
<meta>

<script>
	//Input data
    var timestamp = [28719,28802,29268,29568,29801,30118,30368,30551,30717,30884,31084,31217,31500,32116,
		32316,32616,32866,33116,33366,33565,33765,33982,34315,34831,35064,35248,35631,35981, 36948, 37123,
        37205, 37500, 37952, 38123, 38220, 38500, 38700, 38900, 39000, 39200, 39300, 40000, 40200, 40500];
    var duration = new Array(44);
    for (var i = 0; i < 43; i++) {
        duration[i] = timestamp[i + 1] - timestamp[i];
    }
    duration[43] = 500;
    var fixationIndex = [84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,
        108,109,110,111];
    var fixationDuration = [83,466,300,233,316,250,183,167,166,200,133,283,616,200,300,250,250,150,200,200,
        216,333,516,233,183,383,166,166];
    var mappedFixationPointX = [596,480,449,549,927,1108,506,538,645,768,711,735,634,813,691,1061,1108,
		1140,1162,1080,779,708,925,779,830,881,1044,918, 600, 458, 682, 681, 1025, 1006, 586, 145,
		795, 695, 458, 962, 45, 10, 205, 1206];
    var mappedFixationPointY = [362,265,219,351,435,544,300,325,516,1058,998,626,395,396,407,532,574,607,
        643,705,774,972,706,798,767,736,702,717,437,686,860,941,737,720,743,736,768,811,841,905,914,859,
		921,962];
	var user = ['p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1', 'p1',
		'p1', 'p1', 'p1', 'p1', 'p1', 'p2', 'p2', 'p2', 'p2', 'p2', 'p2', 'p2', 'p2', 'p3', 'p3', 'p3',
		'p3', 'p3', 'p3', 'p3', 'p3', 'p3', 'p3', 'p3', 'p3', 'p3', 'p3', 'p3', 'p3'];
	var aoi = [{x1:20, x2:805, y1:20, y2:580},{x1:845, x2:1630, y1:20, y2:580},
		{x1:20, x2:805, y1:620, y2:1180}, {x1:845, x2:1630, y1:620, y2:1180}];
	var imageFile = "../Provided_data/stimuli/05_Frankfurt_S1.jpg";
</script>

<!-- Place image on screen-->
<script src="visualization.js" type="text/javascript"></script>
<script src="Heatmap.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="visualization.css">

<title>Heatmap visualisation demo</title>
</head>
<body>
<div id="visContainer">
	<div id="visImgContainer">
			<img id="myImage">
	</div>
	<div id="visCanvasContainer">
		<canvas id="myCanvas"></canvas>
	</div>
</div>

<script>
    var img = document.getElementById('myImage');
	var canvas = document.getElementById('myCanvas');
	//var visContainer = document.getElementById('visContainer');
	//var visImgContainer = document.getElementById('visImgContainer');
    
    var width = visImgContainer.clientWidth;
    var height = visImgContainer.clientHeight;

    myHeatmap = new Heatmap(canvas, img, width, height);
    myHeatmap.draw(imageFile, mappedFixationPointX, mappedFixationPointY, duration);
</script>

</body>
</html>